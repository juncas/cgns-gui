# GUI 功能测试清单

**日期**: 2025-10-15  
**应用状态**: ✅ 已启动（使用 base conda 环境）  
**警告**: 有一个 QFontDatabase 废弃警告（不影响功能）

---

## 🧪 测试清单

请按照以下步骤测试 GUI 功能，并在每项后标记 ✅ 或 ❌：

### 1. 应用启动 ✅
- [✅] 应用窗口打开
- [ ] 工具栏显示正常
- [ ] 左侧树视图可见
- [ ] 右侧 3D 视图可见
- [ ] 底部状态栏显示

### 2. 文件加载
- [ ] 点击 "打开 CGNS" 按钮
- [ ] 选择文件: `test_with_solution.cgns` 或其他 CGNS 文件
- [ ] 文件成功加载（无错误对话框）
- [ ] 状态栏显示加载信息

### 3. 树视图
- [ ] Zone 节点显示在树中
- [ ] Section 节点显示在 Zone 下
- [ ] 显示单元数量（例如："Elements (TETRA_4): 4 cells"）
- [ ] 可以展开/折叠节点

### 4. 3D 渲染
- [ ] 网格在 3D 视图中显示
- [ ] 网格颜色正确显示
- [ ] 表面渲染模式工作正常
- [ ] 线框渲染模式工作正常（工具栏切换）

### 5. 交互控制
- [ ] **鼠标左键旋转**: 拖动鼠标可以旋转视角
- [ ] **鼠标右键缩放**: 拖动鼠标可以缩放
- [ ] **鼠标中键平移**: 拖动鼠标可以平移视角
- [ ] **重置视角**: 点击"重置视角"按钮
- [ ] **坐标轴指南**: 显示 XYZ 坐标轴

### 6. Section 选择
- [ ] 在树中点击 Section 节点
- [ ] 对应的网格在 3D 视图中高亮显示
- [ ] 属性面板显示 Section 信息
  - Section 名称
  - 单元类型（例如：TETRA_4）
  - 单元数量
  - 索引范围

### 7. 在 3D 视图中选择
- [ ] 用鼠标左键点击 3D 视图中的网格
- [ ] 对应的 Section 在树中被选中
- [ ] Section 高亮显示
- [ ] 属性面板更新

### 8. 透明度控制
- [ ] 选中一个 Section
- [ ] 在属性面板中调整透明度滑块
- [ ] 3D 视图中的网格透明度实时变化

### 9. 可见性控制
- [ ] 右键点击树中的 Section
- [ ] 选择"隐藏"或"显示"
- [ ] 3D 视图中的网格相应隐藏/显示

### 10. 边界条件（如果文件包含）
- [ ] BC Section 显示在树中（带标记）
- [ ] 属性面板显示边界条件名称
- [ ] 边界条件类型正确显示

### 11. 设置对话框
- [ ] 点击"设置"按钮
- [ ] 可以切换背景颜色
- [ ] 可以切换默认渲染模式
- [ ] 设置保存并生效

### 12. 键盘快捷键
- [ ] 按 `R` 键: 重置视角
- [ ] 按 `W` 键: 切换到线框模式
- [ ] 按 `S` 键: 切换到表面模式

---

## 🐛 遇到的问题

请记录测试中遇到的任何问题：

### 问题 1:
- **现象**: 
- **重现步骤**: 
- **预期行为**: 
- **实际行为**: 

### 问题 2:
- **现象**: 
- **重现步骤**: 
- **预期行为**: 
- **实际行为**: 

---

## ✅ 关键功能验证

### pyCGNS 迁移相关
- [ ] CGNS 文件加载使用 pyCGNS（没有错误）
- [ ] Zone/Section 正确解析
- [ ] 边界条件信息正确显示（如果有）
- [ ] 网格点和连接性数据正确
- [ ] 性能可接受（加载时间）

### 与 h5py 版本对比（如果有旧版本）
- [ ] 加载的网格数据相同
- [ ] Section 数量和类型相同
- [ ] 渲染结果相同
- [ ] 没有新的错误或崩溃

---

## 📝 测试总结

**测试时间**: _________  
**测试者**: _________  
**通过项目**: _____ / 50  
**总体评价**: □ 优秀  □ 良好  □ 需改进  □ 有问题  

**建议**:


**结论**: 
- [ ] ✅ pyCGNS 迁移成功，功能正常
- [ ] ⚠️ 有小问题但不影响使用
- [ ] ❌ 有严重问题需要修复

---

## 💡 提示

### 如果遇到问题：

1. **应用崩溃**: 检查控制台输出，记录错误信息
2. **文件加载失败**: 
   - 检查文件格式是否正确
   - 尝试其他 CGNS 文件
   - 查看状态栏的错误消息
3. **网格不显示**: 
   - 检查 Section 是否可见
   - 尝试重置视角
   - 检查渲染模式
4. **选择不工作**: 
   - 检查是否点击在网格上
   - 查看控制台是否有错误
5. **性能问题**: 
   - 记录文件大小和单元数量
   - 测量加载时间
   - 检查交互是否流畅

### 测试文件位置：
- `test_with_solution.cgns` - 包含流场数据的测试文件
- `test_structured_solution.cgns` - 结构化网格测试文件
- 你自己的 CGNS 文件

### 启动命令（备用）：
```powershell
# 如果 GUI 关闭了，用这个命令重新启动
$env:PYTHONPATH="c:\Users\pengj\work\code\cgns-gui\src"
C:\Users\pengj\anaconda3\python.exe -m cgns_gui.app
```
